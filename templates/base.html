<!-- Navigation bar with all links: Home, Create/Edit, Logout, and displays the logged-in username -->
<!-- this is the skeleton of each template! -->
<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Flask App</title>
  </head>
  <body>
    <nav>    
      <!--user is logged in-->
      {% if 'username' in session %}

        {% if request.endpoint != 'index' %}
          <a href="{{ url_for('index') }}">Home</a>
        {% endif %}

        <!-- Dynamically display 'Edit Post' or 'Create Post' based on has_post -->
        <a href="{{ has_post and url_for('edit_post') or url_for('post') }}">
          {{ has_post and 'Edit Post' or 'Create Post' }}
        </a>

        <a href="{{ url_for('logout') }}">Logout</a>
        <!-- Display the logged-in user's username -->
        <span>Logged in as: {{ session['username'] }}</span>

        <form action="{{ url_for('delete_account') }}" method="POST" style="display:inline;">
          <button type="submit" class="float-right" onclick="return confirm('Are you sure you want to delete this post?');" style="background:none;border:none;color:red;cursor:pointer;">Delete Account</button>

        </form>
        
      <!--user is not logged in-->
      {% else %}
        <a href="{{ url_for('landing') }}">Go Back</a>
        {% if request.endpoint == 'login' %}
          <a href="{{ url_for('register') }}">Register</a>
        {% elif request.endpoint == 'register'%}
          <a href="{{ url_for('login') }}">Login</a>
        {% endif %}

      {% endif %}
    </nav>
    
    <hr>
    
    {% block content %}{% endblock %}
  </body>
</html>
