<!-- Navigation bar with all links: Home, Create/Edit, Logout, and displays the logged-in username -->
<!-- this is the skeleton of each template! -->
<!doctype html>
<html lang="en">
  <head>
    <!--link for the css-framework-->
    <!-- NES.css CDN -->
    <link href="https://unpkg.com/nes.css/css/nes.min.css" rel="stylesheet" />
    <!-- Optional: Include a font for better text appearance -->
    <link href="https://fonts.googleapis.com/css?family=Press+Start+2P" rel="stylesheet">
    
    <meta charset="utf-8">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <!--ensures that the webpage is rendered correctly on different devices-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>Flask App</title>
  </head>
  <body class="{% if request.endpoint in ['edit_post', 'post'] %}scrollable-body{% else %}non-scrollable-body{% endif %}">
    <div class="navbar">
            <hr>

      <nav class="nav-base">    
        <!--user is logged in-->
        {% if 'username' in session %}

          {% if request.endpoint != 'index' %}
            <a href="{{ url_for('index') }}">Home</a>
          {% endif %}

           <!-- Only show Edit/Create Post links if not on edit_post or post page -->
          {% if request.endpoint not in ['edit_post', 'post'] %}
          <a href="{{ has_post and url_for('edit_post') or url_for('post') }}">
            {{ has_post and 'Edit Post' or 'Create Post' }}
          </a>
          {% endif %}

          <a href="{{ url_for('logout') }}">Logout</a>


          <form action="{{ url_for('delete_account') }}" method="POST" style="display:inline;">
            <button type="submit" class="float-right" onclick="return confirm('Are you sure you want to delete your account?');" style="background:none;border:none;color:red;cursor:pointer;">Delete Account</button>
          </form>


          <!-- Display the logged-in user's username -->
          <span class="username">Logged in as: {{ session['username'] }}</span>

        <!--user is not logged in-->
        <!--request.endpoint == 'functionName'-->
        {% else %}
          {% if request.endpoint == 'index' %}
            <a href="{{ url_for('about') }}">Go Back</a>
          {% elif request.endpoint == 'show_post' %}
            <a href="{{ url_for('index') }}">Home</a>
          {% elif request.endpoint == 'login' %}
            <a href="{{ url_for('register') }}">Register</a>
          {% elif request.endpoint == 'register' %}
            <a href="{{ url_for('login') }}">Login</a>
          {% endif %}
        {% endif %}
      
        
        
  
      </nav>

      <hr>

      {% block content %}{% endblock %}
    </div>

  

  </body>
</html>
